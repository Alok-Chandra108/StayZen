<% if(success && success.length) { %>
    <div id="success-alert" class="alert alert-success alert-dismissible fade show col-6 offset-3 text-center" role="alert">
        <%= success %>
    </div>
<% } %>

<% if(failure && failure.length) { %>
    <div id="failure-alert" class="alert alert-danger alert-dismissible fade show col-6 offset-3 text-center" role="alert">
        <%= failure %>
    </div>
<% } %>

<script>
    const removeAlert = (id) => {
        const alertBox = document.getElementById(id);
        if (!alertBox) return;

        // Add fade-out
        alertBox.classList.remove("show");
        alertBox.classList.add("fade");

        // Wait for CSS transition to finish, then remove from DOM
        alertBox.addEventListener("transitionend", () => {
            if (alertBox.parentNode) {
                alertBox.remove();
            }
        });

        // Fallback: Remove after 1s even if transition event doesn't fire
        setTimeout(() => {
            if (alertBox && alertBox.parentNode) {
                alertBox.remove();
            }
        }, 1000);
    };

    setTimeout(() => {
        removeAlert("success-alert");
        removeAlert("failure-alert");
    }, 2000);
</script>
